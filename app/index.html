<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->


    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/skin.css">
    <script src="scripts/vendor/modernizr.min.js"></script>
    <link rel="stylesheet" href="components/fancybox2/jquery.fancybox.css" type="text/css" media="screen" />
    <!-- <link rel="stylesheet" href="components/fancybox/jquery.fancybox-1.3.4.css" type="text/css" media="screen" /> -->
    
</head>
<body>

<!-- <img class="bg" src="../images/outside.png" alt=""> -->
<!-- <div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="#home">timmygcentral</a>
  </div>
</div>
 -->

<div class="navLinks">
  <ul class="nav">
    <li><a href="#about"><img src="images/about.png" alt=""></a></li>
    <li><a href="#portfolio"><img src="images/portfolio.png" alt=""></a></li>
    <li><a href="#explore"><img src="images/explore.png" alt=""></a></li>
    <li><a href="#contact"><img src="images/contact.png" alt=""></a></li>
  </ul>
</div>

     <div class="container">
      <div class="row">
        <div class="span3 left noSelection side">
          <!-- <h3>Recommendations</h3> -->
          <div class="carousel">
            <ul id='recCarousel' class='jcarousel jcarousel-skin'>
            </ul>
            
          </div>
        </div>
        <div class="span6 main">
           <div id="home">
            <h2>Home</h2>
            <p>Hey there!</p>
            <p>My name is Tim.  I like to create and learn cool things.</p>
           </div>
           <div id="about">
             <h2>About</h2>
             <p>About me- bio Lorem ipsum dolor sit amet, consectetur adipisicing elit. In dicta dolor magni vel quaerat ab voluptas asperiores natus tempore placeat nulla repellendus consequuntur nisi fuga libero! Optio voluptates magnam tempore.</p>
             <p>Resume</p>
             <p>Link to Contact</p>
             <p>How site was built</p>
             <p>Explain logo</p>
           </div>
           <div id="portfolio">
             <h2>Portfolio</h2>
             <p>Portfolio of work: BreakForIt,TextTune,Propertyware,Lux?</p>

  <div id="portfolioImgContainer">
    <div id="image"> <!-- populate via jQ -->
    </div>
  </div>


<div id="portfolioWrapper" class="noSelection">
<ul id="portfolioCarousel" class="jcarousel-skin" class="noSelection">
</ul>
</div>

           </div>
           <div id="explore">
             <h2>Explore</h2>
             <p>Here are some cool sites:</p></br>
           </div>
           <div id="contact">
             <h2>Contact</h2>
             <p>twitter</p>
             <p>email</p>
             <p>linkedin</p>
             <p>github</p>
             <p>bitbucket</p>
           </div>
        </div>
        <div class="span3 right visible-desktop noSelection side">
          <!-- <h3>Tweets</h3> -->
          <div class="carousel">
            <ul id="tweetCarousel" class="jcarousel jcarousel-skin">
            </ul>
          </div>
        </div>
      </div>
      </div>
      </div>


        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
            <![endif]-->

            <!-- Add your site or application content here -->

            <!--  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>

            <script>window.jQuery || document.write('<script src="scripts/vendor/jquery.min.js"><\/script>')</script>



            <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. 
            <script>
            // var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
            // (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            //     g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            //     s.parentNode.insertBefore(g,s)}(document,'script'));
            </script>-->

    <!--
    <!-- build:js scripts/plugins.js -->
    <!--upgrade jQuery when lightbox supports 1.9+ -->
    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="components/underscore/underscore.js"></script>
    <script src="components/backbone/backbone.js"></script>
    <script src="components/mustache/mustache.js"></script>
    <script src="scripts/vendor/bootstrap/bootstrap.js"></script>
    <script src="components/jcarousel/jquery.jcarousel.min.js"></script>
    <script src="components/jquery-easing/jquery.easing.min.js"></script>
    <script src="scripts/tweets.js"></script> 
    <script src="scripts/app.js"></script> 
    <script src="scripts/google-spreadsheet.js"></script> 
    <script src="components/jquery-timeago/jquery.timeago.js"></script> 
    <script src="components/jquery-json/jquery.json-2.4.min.js"></script>
    <script type="text/javascript" src="components/fancybox2/jquery.fancybox.pack.js"></script> <!--do not used pack as patched reg version for jQ 1.9-->

    <!--
    <script type="text/javascript" src="components/fancybox/jquery.fancybox-1.3.4.js"></script> <!--do not used pack as patched reg version for jQ 1.9-->

    <!-- endbuild -->
<script>

//fade in while loading
$('.carousel').hide().delay(500).fadeIn(900);

  function randomizeList(myArray) {
    var i = myArray.length, j, tempi, tempj;
    if ( i == 0 ) return false;
    while ( --i ) {
       j = Math.floor( Math.random() * ( i + 1 ) );
       tempi = myArray[i];
       tempj = myArray[j];
       myArray[i] = tempj;
       myArray[j] = tempi;
     }
     return myArray;
  }


var tgc_recommendations_uri = "https://spreadsheets.google.com/feeds/list/0AsRjUFPfaIWvdGxPT3U0ZGRNUnFGakwwQnpKQi1Hbnc/od6/public/values?alt=json";
var tgc_explore_uri = "https://spreadsheets.google.com/feeds/list/0AsRjUFPfaIWvdHZ5ZjhqMVdrcnlSUzh3ZU56YV9XZ2c/od6/public/values?alt=json";
var tgc_portfolio_uri = "https://spreadsheets.google.com/feeds/list/0AsRjUFPfaIWvdFdnR3RIVHV3NGU1UnpjYWh3RjNSclE/od6/public/values?alt=json";

function ensureJson(stringOrJSON){
  if($.type(stringOrJSON) === "string")stringOrJSON = $.parseJSON(stringOrJSON);
  return stringOrJSON;
}

// var size = $('#portfolioCarousel img').size();
// var clickedIndex;

// function reorder(){
//   var size = $('#portfolioCarousel img').size();
//   var beginning = false;
//   $.each($('#portfolioCarousel li'), function(){
//     if( $(this).attr('jcarouselindex') === 'x' || beginning){
//       $(this).attr('jcarouselindex',clickedIndex++);
//       beginning = true;  
//     }else{
//       $(this).attr('jcarouselindex',++size);
//     }
//   });
//   size = size + clickedIndex;
// }
// 

  function loadRecommendations(){
    $.ajax({
      type: "GET",
      url: tgc_recommendations_uri,
      format: "jsonp",
      success: function(data){
        $('#recCarousel').css('opacity','0')
        data = ensureJson(data);
        randomizeList(data.feed.entry);
        var template = "{{#entry}}<li><p>\"{{gsx$rec.$t}}\"</p>{{#gsx$qualities.$t}}Top Qualities:<p>{{gsx$qualities.$t}}</p>{{/gsx$qualities.$t}}{{gsx$name.$t}} {{gsx$date.$t}} {{gsx$company.$t}}</li>{{/entry}}</ul>";
        data = ensureJson(data);
        var html = Mustache.to_html(template, data.feed);
        $('#recCarousel').append(html);
        $('#recCarousel').jcarousel({
            easing: 'easeInBack',
            wrap: 'circular',
            scroll: 1,
            random: true,
            auto: 20
            // easing: 'easeInQuart'
          });
        $('#recCarousel').animate({opacity: 1}, 1000);
      }
    });
  }

  function loadExplore(){
  $.ajax({
      type: "GET",
      url: tgc_explore_uri,
      format: "jsonp",
      success: function(data){
        data = ensureJson(data);
        randomizeList(data.feed.entry);
        var template = "{{#entry}}<a href='{{gsx$link.$t}}' target='_blank'><img src={{gsx$logo.$t}} /></a><p>{{gsx$description.$t}}</p></br>{{/entry}}";
        data = ensureJson(data);
        var html = Mustache.to_html(template, data.feed);
        $('#explore').append(html);
      }
    });
  }

  function loadPortfolio(){
    $.ajax({
      type: "GET",
      url: tgc_portfolio_uri,
      format: "jsonp",
      success: function(data){
        $('#portfolioCarousel').css('opacity','0');
        data = ensureJson(data);
        // title?
        var template = "{{#entry}}<li><a href='{{gsx$photo.$t}}' rel='{{gsx$photo.$t}}' class='fancybox'><img src='{{gsx$thumb.$t}}' class='thumb' border='0'/></a></li>{{/entry}}";
        data = ensureJson(data);
        var html = Mustache.to_html(template, data.feed);
        $('#portfolio #portfolioCarousel').append(html);
        //populate portfolio main image
        var firstImgPath = data.feed.entry[0].gsx$photo.$t;
        $('#portfolioImgContainer #image').append("<a class=\"fancybox\" href=\""+firstImgPath+"\"><img src=\""+firstImgPath+"\"/></a>");

        // $('#portfolioCarousel').jcarousel({
        //       scroll: 1,
        //       visible: 9,
        //       itemFallbackDimension: 300
        // });

         // $('#portfolioCarousel').animate({opacity: 1}, 1000);

        $('#portfolioCarousel img').bind('click', function(e){
          var image = $(this).parent().attr("rel");
            var html = "<a class=\"fancybox\" href=\""+image+"\">"+
                       "  <img src=\""+image+"\"/>"+
                       "</a>";
            $('#image').hide();
            $('#image').fadeIn('slow');
            $('#image').html(html); 
            fancyboxize();
            
            return false;
            });
      }
    });
  }

</script>

<script>


    $(document).ready(function($) {
      $("abbr.timeago").timeago();
      loadRecommendations();
      loadPortfolio();
      loadExplore();

      fancyboxize();

    });

    function fancyboxize(){
      $(".fancybox").fancybox({
      });
    }
</script>
</body>

</html>